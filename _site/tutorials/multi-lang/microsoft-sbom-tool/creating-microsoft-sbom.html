<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Creating SBOMs Using Microsoft SBOM | sbomgen</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Creating SBOMs Using Microsoft SBOM" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="List of SBOM Generation Tools" />
<meta property="og:description" content="List of SBOM Generation Tools" />
<link rel="canonical" href="http://localhost:4000/tutorials/multi-lang/microsoft-sbom-tool/creating-microsoft-sbom.html" />
<meta property="og:url" content="http://localhost:4000/tutorials/multi-lang/microsoft-sbom-tool/creating-microsoft-sbom.html" />
<meta property="og:site_name" content="sbomgen" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Creating SBOMs Using Microsoft SBOM" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"List of SBOM Generation Tools","headline":"Creating SBOMs Using Microsoft SBOM","url":"http://localhost:4000/tutorials/multi-lang/microsoft-sbom-tool/creating-microsoft-sbom.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d1481bd57f2bd98144d286b157a673827e676eae">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">sbomgen</a></h1>
      

      <h1 id="creating-sboms-using-microsoft-sbom">Creating SBOMs Using Microsoft SBOM</h1>

<h2 id="introduction">Introduction</h2>

<p>This tutorial concerns the creation of an SBOM using the Microsoft SBOM Tool.</p>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>
    <p>Curl (Linux)</p>
  </li>
  <li>
    <p>WinGet (Windows)</p>
  </li>
  <li>
    <p>Homebrew (OSX)</p>
  </li>
</ul>

<h2 id="installation">Installation</h2>

<h3 id="windows">Windows</h3>

<p>Run the command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>winget <span class="nb">install </span>Microsoft.SbomTool
</code></pre></div></div>

<p>or</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Invoke-WebRequest <span class="nt">-Uri</span> <span class="s2">"https://github.com/microsoft/sbom-tool/releases/latest/download/sbom-tool-win-x64.exe"</span> <span class="nt">-OutFile</span> <span class="s2">"sbom-tool.exe"</span>
</code></pre></div></div>

<h3 id="mac">Mac</h3>

<p>Run the command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>sbom-tool
</code></pre></div></div>

<p>or</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-Lo</span> sbom-tool https://github.com/microsoft/sbom-tool/releases/latest/download/sbom-tool-osx-x64 <span class="nb">chmod</span> +x sbom-tool
</code></pre></div></div>

<h3 id="linux">Linux</h3>

<p>Run the command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-Lo</span> sbom-tool https://github.com/microsoft/sbom-tool/releases/latest/download/sbom-tool-linux-x64 <span class="nb">chmod</span> +x sbom-tool
</code></pre></div></div>

<p>Note: When using Curl, ensure the downloaded binary is in a folder on your computers PATH.</p>

<p>Verify installation by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbom-tool <span class="nt">-h</span>
</code></pre></div></div>

<p>You should see the resultant output:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The Sbom tool generates a SBOM <span class="k">for </span>any build artifact.

Usage - Microsoft.Sbom.Tool &lt;action&gt; <span class="nt">-options</span>

GlobalOption    Description
Help <span class="o">(</span>-?, <span class="nt">-h</span><span class="o">)</span>   Prints this <span class="nb">help </span>message

Actions

  Validate <span class="nt">-options</span> - Validate a build artifact using the manifest. Optionally also verify the signing certificate of the manifest.

    Option                   Description
    BuildDropPath <span class="o">(</span><span class="nt">-b</span><span class="o">)</span>       The root folder of the drop directory to validate.
    ManifestDirPath <span class="o">(</span><span class="nt">-m</span><span class="o">)</span>     The path of the directory where the manifest will be validated. If this parameter is not specified, the manifest will be validated <span class="k">in</span> <span class="o">{</span>BuildDropPath<span class="o">}</span>/_manifest directory.
    OutputPath <span class="o">(</span><span class="nt">-o</span><span class="o">)</span>          The path where the output json should be written. ex: Path/output.json
    CatalogFilePath <span class="o">(</span><span class="nt">-C</span><span class="o">)</span>     This parameter is deprecated and will not be used, we will automatically detect the catalog file using our standard directory structure. The path of signed catalog file that is
                             used to verify the signature of the manifest json file.
    ValidateSignature <span class="o">(</span><span class="nt">-s</span><span class="o">)</span>   If <span class="nb">set</span>, will validate the manifest using the signed catalog file.
    IgnoreMissing <span class="o">(</span><span class="nt">-im</span><span class="o">)</span>      If <span class="nb">set</span>, will not fail validation on the files presented <span class="k">in </span>Manifest but missing on the disk.
    FailIfNoPackages <span class="o">(</span><span class="nt">-n</span><span class="o">)</span>    If <span class="nb">set</span>, validation will fail <span class="k">if </span>there are no packages detected <span class="k">in </span>the sbom.
    RootPathFilter <span class="o">(</span><span class="nt">-r</span><span class="o">)</span>      If you<span class="s1">'re downloading only a part of the drop using the '</span><span class="nt">-r</span><span class="s1">' or '</span>root<span class="s1">' parameter in the drop client, specify the same string value here in order to skip validating paths that
                             are not downloaded.
    HashAlgorithm (-Ha)      The Hash algorithm to use while verifying or generating the hash value of a file
    Verbosity (-V)           Display this amount of detail in the logging output.
                             Verbose
                             Debug
                             Information
                             Warning
                             Error
                             Fatal
    Parallelism (-P)         The number of parallel threads to use for the workflows.
    ConfigFilePath (-Co)     The json file that contains the configuration for the DropValidator.
    TelemetryFilePath (-t)   Specify a file where we should write detailed telemetry for the workflow.
    FollowSymlinks (-F)      If set to false, we will not follow symlinks while traversing the build drop folder. Default is set to '</span><span class="nb">true</span><span class="s1">'.
    ManifestInfo (-mi)       A list of the name and version of the manifest format that we are using.

  Generate -options - Generate a SBOM for all the files in the given build drop folder, and the packages in the components path.

    Option                                    Description
    BuildDropPath (-b)                        The root folder of the drop directory for which the SBOM file will be generated.
    BuildComponentPath (-bc)                  The folder containing the build components and packages.
    BuildListFile (-bl)                       The file path to a file containing a list of files one file per line for which the SBOM file will be generated. Only files listed in the file will be included
                                              in the generated SBOM.
    ManifestDirPath (-m)                      The path of the directory where the generated SBOM files will be placed. A folder named '</span>_manifest<span class="s1">' will be created at this location, where all generated SBOMs
                                              will be placed. If this parameter is not specified, the files will be placed in {BuildDropPath}/_manifest directory.
    PackageName (-pn)                         The name of the package this SBOM represents. If this is not provided, we will try to infer this name from the build that generated this package, if that also
                                              fails, the SBOM generation fails.
    PackageVersion (-pv)                      The version of the package this SBOM represents. If this is not provided, we will try to infer the version from the build that generated this package, if that
                                              also fails, the SBOM generation fails.
    PackageSupplier (-ps)                     Supplier of the package that this SBOM represents.
    DockerImagesToScan (-di)                  Comma separated list of docker image names or hashes to be scanned for packages, ex: ubuntu:16.04, 56bab49eef2ef07505f6a1b0d5bd3a601dfc3c76ad4460f24c91d6fa298369
                                              ab.
    AdditionalComponentDetectorArgs (-cd)     Additional set of arguments for Component Detector.  An appropriate usage of this would be a space-delimited list of `--key value` pairs, representing
                                              command-line switches.
    ExternalDocumentReferenceListFile (-er)   The path to a file containing a list of external SBOMs that will be included as external document reference in the output SBOM. SPDX 2.2 is the only supported
                                              format for now.
    NamespaceUriUniquePart (-nsu)             A unique valid URI part that will be appended to the SPDX SBOM namespace URI. This value should be globally unique.
    NamespaceUriBase (-nsb)                   The base path of the SBOM namespace URI.
    GenerationTimestamp (-gt)                 A timestamp in the format '</span>yyyy-MM-ddTHH:mm:ssZ<span class="s1">' that will be used as the generated timestamp for the SBOM.
    DeleteManifestDirIfPresent (-D)           If set to true, we will delete any previous manifest directories that are already present in the ManifestDirPath without asking the user for confirmation. The
                                              new manifest directory will then be created at this location and the generated SBOM will be stored there.
    FetchLicenseInformation (-li)             If set to true, we will attempt to fetch license information of packages detected in the SBOM from the ClearlyDefinedApi.
    EnablePackageMetadataParsing (-pm)        If set to true, we will attempt to parse license and supplier info from the packages metadata file.
    Verbosity (-V)                            Display this amount of detail in the logging output.
                                              Verbose
                                              Debug
                                              Information
                                              Warning
                                              Error
                                              Fatal
    Parallelism (-P)                          The number of parallel threads to use for the workflows.
    ConfigFilePath (-C)                       The json file that contains the configuration for the DropValidator.
    TelemetryFilePath (-t)                    Specify a file where we should write detailed telemetry for the workflow.
    FollowSymlinks (-F)                       If set to false, we will not follow symlinks while traversing the build drop folder. Default is set to '</span><span class="nb">true</span><span class="s1">'.
    ManifestInfo (-mi)                        A list of the name and version of the manifest format that we are using.

  Version  - Displays the version of the tool being used. Can be used as '</span><span class="nt">--version</span><span class="s1">'
</span></code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>To generate an SBOM run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbom-tool generate <span class="nt">-b</span> &lt;drop path&gt; <span class="nt">-bc</span> &lt;build components path&gt; <span class="nt">-pn</span> &lt;package name&gt; <span class="nt">-pv</span> &lt;package version&gt; <span class="nt">-ps</span> &lt;package supplier&gt; <span class="nt">-nsb</span> &lt;namespace uri base&gt;
</code></pre></div></div>

<p>With:</p>

<ul>
  <li>
    <p>drop path - the path where the files to be shipped are located</p>
  </li>
  <li>
    <p>build components path - source code folder</p>
  </li>
  <li>
    <p>namespace uri base - namespace in the format of <code class="language-plaintext highlighter-rouge">https://companyName.com/teamName/&lt;packageName&gt;/&lt;packageVersion&gt;/&lt;new-guid&gt;</code></p>
  </li>
</ul>

<p>A folder named <code class="language-plaintext highlighter-rouge">_manifest</code> will be created in the <code class="language-plaintext highlighter-rouge">drop path</code> containing the spdx JSON SBOM and the SBOM file hash.</p>

<h2 id="references">References</h2>

<ul>
  <li>Microsoft. (n.d.). Microsoft/sbom-tool: The SBOM tool is a highly scalable and enterprise ready tool to create SPDX 2.2 compatible sboms for any variety of artifacts. GitHub. <a href="https://github.com/microsoft/sbom-tool">https://github.com/microsoft/sbom-tool</a></li>
</ul>


      
      <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
        This site is open source. <a href="https://github.com/REestwick/sbomgen/edit/gh-pages/tutorials/multi-lang/microsoft-sbom-tool/creating-microsoft-sbom.md">Improve this page</a>.
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
